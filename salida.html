<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<title>SQL Dependency Graph (Linaje / Pares JOIN)</title>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<style>
  body{background:#0b1220;color:#e5e7eb;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Inter}
  .toolbar{display:flex;flex-wrap:wrap;gap:10px;align-items:center;padding:10px;border-bottom:1px solid #223;position:sticky;top:0;background:#0b1220;z-index:9}
  input,button,select,label{color:#e5e7eb}
  input,select{background:#0f172a;border:1px solid #334155;border-radius:8px;padding:8px 10px}
  button{background:#0f172a;border:1px solid #334155;border-radius:8px;padding:8px 12px;cursor:pointer}
  #layoutRow{display:flex}
  #cy{height:calc(100vh - 72px);flex:1}
  #side{width:380px;border-left:1px solid #223;padding:10px;overflow:auto}
  .legend{display:flex;gap:10px;flex-wrap:wrap;margin-top:6px}
  .dot{width:12px;height:12px;border-radius:3px;display:inline-block}
  .pill{display:inline-block;background:#111827;border:1px solid #374151;border-radius:999px;padding:2px 8px;margin:2px 4px 2px 0;font-size:.8rem}
  .muted{color:#9ca3af}
</style>
</head>
<body>
<div class="toolbar">
  <strong>SQL Dependency Graph (Linaje / Pares JOIN)</strong>
  <select id="mode">
    <option value="lineage" selected>Modo: Linaje (creación)</option>
    <option value="pairs">Modo: Pares JOIN (FROM → JOIN)</option>
  </select>
  <label><input type="checkbox" id="onlyTmp"> Solo temporales</label>
  <label><input type="checkbox" id="edgeLabels" checked> Etiquetas de aristas</label>
  <input id="search" placeholder="Buscar tabla... (Enter)"/>
  <button id="fit">Ajustar</button>
  <button id="relayout">Re-aplicar dagre</button>
  <button id="reset">Reset</button>
  <button id="savePos">Guardar posiciones</button>
  <button id="loadPos">Cargar posiciones</button>
  <button id="clearPos">Borrar posiciones</button>
</div>

<div id="layoutRow">
  <div id="cy"></div>
  <aside id="side">
    <h3 id="sideTitle">Selecciona un nodo</h3>
    <div class="muted">En Linaje: fuentes → destino de creación<br>En Pares: FROM → JOIN de la misma sentencia</div>
    <div id="meta"></div>
  </aside>
</div>

<script src="https://unpkg.com/cytoscape@3.26.0/dist/cytoscape.min.js"></script>
<script src="https://unpkg.com/dagre@0.8.5/dist/dagre.min.js"></script>
<script src="https://unpkg.com/cytoscape-dagre@2.5.0/cytoscape-dagre.js"></script>
<script>
const NODES   = [{"data": {"id": "PROD_ANALITICA.DBO.V_DATOSCONVENIOS", "label": "PROD_ANALITICA.DBO.V_DATOSCONVENIOS", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.CUR_REPERFILADO", "label": "PROD_MODELOS.DBO.CUR_REPERFILADO", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "label": "PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.REPERFILADO", "label": "PROD_MODELOS.DBO.REPERFILADO", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TEMPO_EFECTIVO_G5", "label": "PROD_MODELOS.DBO.TEMPO_EFECTIVO_G5", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TEMPO_EFECTIVO_G7", "label": "PROD_MODELOS.DBO.TEMPO_EFECTIVO_G7", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TEMPO_ELECTRO_G0", "label": "PROD_MODELOS.DBO.TEMPO_ELECTRO_G0", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TEMPO_ELECTRO_G1", "label": "PROD_MODELOS.DBO.TEMPO_ELECTRO_G1", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TEMPO_MOTOS_G0", "label": "PROD_MODELOS.DBO.TEMPO_MOTOS_G0", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TEMPO_MOTOS_G1", "label": "PROD_MODELOS.DBO.TEMPO_MOTOS_G1", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TEMPO_TC_G5", "label": "PROD_MODELOS.DBO.TEMPO_TC_G5", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TEMPO_TC_G7", "label": "PROD_MODELOS.DBO.TEMPO_TC_G7", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TMPPERFILEFECTINEGOCIO", "label": "PROD_MODELOS.DBO.TMPPERFILEFECTINEGOCIO", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TMPPERFILEFECTIVOBANCARIZADO", "label": "PROD_MODELOS.DBO.TMPPERFILEFECTIVOBANCARIZADO", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TMPPERFILEFECTIVORECURRENTE", "label": "PROD_MODELOS.DBO.TMPPERFILEFECTIVORECURRENTE", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TMPPERFILELECTROBANCARIZADO", "label": "PROD_MODELOS.DBO.TMPPERFILELECTROBANCARIZADO", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TMPPERFILELECTRORECURRENTE", "label": "PROD_MODELOS.DBO.TMPPERFILELECTRORECURRENTE", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TMPPERFILMOTOSBANCARIZADO", "label": "PROD_MODELOS.DBO.TMPPERFILMOTOSBANCARIZADO", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TMPPERFILMOTOSRECURRENTE", "label": "PROD_MODELOS.DBO.TMPPERFILMOTOSRECURRENTE", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TMPPERFILTARJETACREDITO", "label": "PROD_MODELOS.DBO.TMPPERFILTARJETACREDITO", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TMPV_REGLASDURAS_", "label": "PROD_MODELOS.DBO.TMPV_REGLASDURAS_", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVAS", "label": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVAS", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASAPROB", "label": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASAPROB", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASPROCESOEFECTIVO", "label": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASPROCESOEFECTIVO", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVATC", "label": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVATC", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TMP_GRUPOB", "label": "PROD_MODELOS.DBO.TMP_GRUPOB", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TMP_NODOSOB3", "label": "PROD_MODELOS.DBO.TMP_NODOSOB3", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.TMP_UMD_FED_INTERFAZTXT", "label": "PROD_MODELOS.DBO.TMP_UMD_FED_INTERFAZTXT", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.UMD_FED_BASESMASIVASBI", "label": "PROD_MODELOS.DBO.UMD_FED_BASESMASIVASBI", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "label": "PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.UMD_FED_INTERFAZTXT", "label": "PROD_MODELOS.DBO.UMD_FED_INTERFAZTXT", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.UMD_FED_MATRIZRECHAZOPIVOT", "label": "PROD_MODELOS.DBO.UMD_FED_MATRIZRECHAZOPIVOT", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.UMD_FED_RDGENERAL_MENSUAL", "label": "PROD_MODELOS.DBO.UMD_FED_RDGENERAL_MENSUAL", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.UMD_FED_RDGENERAL_SEMANAL", "label": "PROD_MODELOS.DBO.UMD_FED_RDGENERAL_SEMANAL", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.UMD_FED_UNIVERSOBMMICROPEQUENAEMPRESA", "label": "PROD_MODELOS.DBO.UMD_FED_UNIVERSOBMMICROPEQUENAEMPRESA", "isTmp": false, "color": "#64748b"}, "classes": "base"}, {"data": {"id": "PROD_MODELOS.DBO.V_REGLASDURAS", "label": "PROD_MODELOS.DBO.V_REGLASDURAS", "isTmp": false, "color": "#64748b"}, "classes": "base"}];
const EDGES   = [{"data": {"id": "L::PROD_MODELOS.DBO.V_REGLASDURAS=>PROD_MODELOS.DBO.TMPV_REGLASDURAS_::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.V_REGLASDURAS", "target": "PROD_MODELOS.DBO.TMPV_REGLASDURAS_", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS=>PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVAS::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "target": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVAS", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS=>PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASPROCESOEFECTIVO::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "target": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASPROCESOEFECTIVO", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_BASESMASIVASBI=>PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASPROCESOEFECTIVO::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_BASESMASIVASBI", "target": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASPROCESOEFECTIVO", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVAS=>PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASAPROB::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVAS", "target": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASAPROB", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVAS=>PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVATC::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVAS", "target": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVATC", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMPV_REGLASDURAS_=>PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVATC::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMPV_REGLASDURAS_", "target": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVATC", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_ANALITICA.DBO.V_DATOSCONVENIOS=>PROD_MODELOS.DBO.TMP_GRUPOB::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_ANALITICA.DBO.V_DATOSCONVENIOS", "target": "PROD_MODELOS.DBO.TMP_GRUPOB", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS=>PROD_MODELOS.DBO.TMPPERFILEFECTIVORECURRENTE::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "target": "PROD_MODELOS.DBO.TMPPERFILEFECTIVORECURRENTE", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS=>PROD_MODELOS.DBO.TMPPERFILEFECTIVOBANCARIZADO::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "target": "PROD_MODELOS.DBO.TMPPERFILEFECTIVOBANCARIZADO", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS=>PROD_MODELOS.DBO.TMPPERFILELECTRORECURRENTE::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "target": "PROD_MODELOS.DBO.TMPPERFILELECTRORECURRENTE", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS=>PROD_MODELOS.DBO.TMPPERFILELECTROBANCARIZADO::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "target": "PROD_MODELOS.DBO.TMPPERFILELECTROBANCARIZADO", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS=>PROD_MODELOS.DBO.TMPPERFILMOTOSRECURRENTE::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "target": "PROD_MODELOS.DBO.TMPPERFILMOTOSRECURRENTE", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS=>PROD_MODELOS.DBO.TMPPERFILMOTOSBANCARIZADO::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "target": "PROD_MODELOS.DBO.TMPPERFILMOTOSBANCARIZADO", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_UNIVERSOBMMICROPEQUENAEMPRESA=>PROD_MODELOS.DBO.TMPPERFILEFECTINEGOCIO::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_UNIVERSOBMMICROPEQUENAEMPRESA", "target": "PROD_MODELOS.DBO.TMPPERFILEFECTINEGOCIO", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS=>PROD_MODELOS.DBO.TMPPERFILEFECTINEGOCIO::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "target": "PROD_MODELOS.DBO.TMPPERFILEFECTINEGOCIO", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS=>PROD_MODELOS.DBO.TMPPERFILTARJETACREDITO::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "target": "PROD_MODELOS.DBO.TMPPERFILTARJETACREDITO", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMPV_REGLASDURAS_=>PROD_MODELOS.DBO.REPERFILADO::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMPV_REGLASDURAS_", "target": "PROD_MODELOS.DBO.REPERFILADO", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMPPERFILEFECTIVORECURRENTE=>PROD_MODELOS.DBO.REPERFILADO::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMPPERFILEFECTIVORECURRENTE", "target": "PROD_MODELOS.DBO.REPERFILADO", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMPPERFILEFECTIVOBANCARIZADO=>PROD_MODELOS.DBO.REPERFILADO::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMPPERFILEFECTIVOBANCARIZADO", "target": "PROD_MODELOS.DBO.REPERFILADO", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMPPERFILELECTRORECURRENTE=>PROD_MODELOS.DBO.REPERFILADO::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMPPERFILELECTRORECURRENTE", "target": "PROD_MODELOS.DBO.REPERFILADO", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMPPERFILELECTROBANCARIZADO=>PROD_MODELOS.DBO.REPERFILADO::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMPPERFILELECTROBANCARIZADO", "target": "PROD_MODELOS.DBO.REPERFILADO", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMPPERFILMOTOSRECURRENTE=>PROD_MODELOS.DBO.REPERFILADO::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMPPERFILMOTOSRECURRENTE", "target": "PROD_MODELOS.DBO.REPERFILADO", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMPPERFILMOTOSBANCARIZADO=>PROD_MODELOS.DBO.REPERFILADO::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMPPERFILMOTOSBANCARIZADO", "target": "PROD_MODELOS.DBO.REPERFILADO", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMPPERFILEFECTINEGOCIO=>PROD_MODELOS.DBO.REPERFILADO::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMPPERFILEFECTINEGOCIO", "target": "PROD_MODELOS.DBO.REPERFILADO", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMPPERFILTARJETACREDITO=>PROD_MODELOS.DBO.REPERFILADO::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMPPERFILTARJETACREDITO", "target": "PROD_MODELOS.DBO.REPERFILADO", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_RDGENERAL_SEMANAL=>PROD_MODELOS.DBO.CUR_REPERFILADO::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_RDGENERAL_SEMANAL", "target": "PROD_MODELOS.DBO.CUR_REPERFILADO", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.REPERFILADO=>PROD_MODELOS.DBO.CUR_REPERFILADO::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.REPERFILADO", "target": "PROD_MODELOS.DBO.CUR_REPERFILADO", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASPROCESOEFECTIVO=>PROD_MODELOS.DBO.CUR_REPERFILADO::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASPROCESOEFECTIVO", "target": "PROD_MODELOS.DBO.CUR_REPERFILADO", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS=>PROD_MODELOS.DBO.TEMPO_EFECTIVO_G5::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "target": "PROD_MODELOS.DBO.TEMPO_EFECTIVO_G5", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_RDGENERAL_MENSUAL=>PROD_MODELOS.DBO.TEMPO_EFECTIVO_G5::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_RDGENERAL_MENSUAL", "target": "PROD_MODELOS.DBO.TEMPO_EFECTIVO_G5", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.REPERFILADO=>PROD_MODELOS.DBO.TEMPO_EFECTIVO_G5::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.REPERFILADO", "target": "PROD_MODELOS.DBO.TEMPO_EFECTIVO_G5", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASAPROB=>PROD_MODELOS.DBO.TEMPO_EFECTIVO_G5::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASAPROB", "target": "PROD_MODELOS.DBO.TEMPO_EFECTIVO_G5", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS=>PROD_MODELOS.DBO.TEMPO_TC_G5::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "target": "PROD_MODELOS.DBO.TEMPO_TC_G5", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_RDGENERAL_MENSUAL=>PROD_MODELOS.DBO.TEMPO_TC_G5::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_RDGENERAL_MENSUAL", "target": "PROD_MODELOS.DBO.TEMPO_TC_G5", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.REPERFILADO=>PROD_MODELOS.DBO.TEMPO_TC_G5::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.REPERFILADO", "target": "PROD_MODELOS.DBO.TEMPO_TC_G5", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVATC=>PROD_MODELOS.DBO.TEMPO_TC_G5::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVATC", "target": "PROD_MODELOS.DBO.TEMPO_TC_G5", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS=>PROD_MODELOS.DBO.TEMPO_EFECTIVO_G7::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "target": "PROD_MODELOS.DBO.TEMPO_EFECTIVO_G7", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_RDGENERAL_MENSUAL=>PROD_MODELOS.DBO.TEMPO_EFECTIVO_G7::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_RDGENERAL_MENSUAL", "target": "PROD_MODELOS.DBO.TEMPO_EFECTIVO_G7", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.REPERFILADO=>PROD_MODELOS.DBO.TEMPO_EFECTIVO_G7::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.REPERFILADO", "target": "PROD_MODELOS.DBO.TEMPO_EFECTIVO_G7", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASAPROB=>PROD_MODELOS.DBO.TEMPO_EFECTIVO_G7::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASAPROB", "target": "PROD_MODELOS.DBO.TEMPO_EFECTIVO_G7", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS=>PROD_MODELOS.DBO.TEMPO_TC_G7::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "target": "PROD_MODELOS.DBO.TEMPO_TC_G7", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_RDGENERAL_MENSUAL=>PROD_MODELOS.DBO.TEMPO_TC_G7::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_RDGENERAL_MENSUAL", "target": "PROD_MODELOS.DBO.TEMPO_TC_G7", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.REPERFILADO=>PROD_MODELOS.DBO.TEMPO_TC_G7::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.REPERFILADO", "target": "PROD_MODELOS.DBO.TEMPO_TC_G7", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVATC=>PROD_MODELOS.DBO.TEMPO_TC_G7::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVATC", "target": "PROD_MODELOS.DBO.TEMPO_TC_G7", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS=>PROD_MODELOS.DBO.TEMPO_ELECTRO_G0::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "target": "PROD_MODELOS.DBO.TEMPO_ELECTRO_G0", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.REPERFILADO=>PROD_MODELOS.DBO.TEMPO_ELECTRO_G0::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.REPERFILADO", "target": "PROD_MODELOS.DBO.TEMPO_ELECTRO_G0", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS=>PROD_MODELOS.DBO.TEMPO_ELECTRO_G1::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "target": "PROD_MODELOS.DBO.TEMPO_ELECTRO_G1", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.REPERFILADO=>PROD_MODELOS.DBO.TEMPO_ELECTRO_G1::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.REPERFILADO", "target": "PROD_MODELOS.DBO.TEMPO_ELECTRO_G1", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS=>PROD_MODELOS.DBO.TEMPO_MOTOS_G0::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "target": "PROD_MODELOS.DBO.TEMPO_MOTOS_G0", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMPV_REGLASDURAS_=>PROD_MODELOS.DBO.TEMPO_MOTOS_G0::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMPV_REGLASDURAS_", "target": "PROD_MODELOS.DBO.TEMPO_MOTOS_G0", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.REPERFILADO=>PROD_MODELOS.DBO.TEMPO_MOTOS_G0::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.REPERFILADO", "target": "PROD_MODELOS.DBO.TEMPO_MOTOS_G0", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS=>PROD_MODELOS.DBO.TEMPO_MOTOS_G1::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "target": "PROD_MODELOS.DBO.TEMPO_MOTOS_G1", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMPV_REGLASDURAS_=>PROD_MODELOS.DBO.TEMPO_MOTOS_G1::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMPV_REGLASDURAS_", "target": "PROD_MODELOS.DBO.TEMPO_MOTOS_G1", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.REPERFILADO=>PROD_MODELOS.DBO.TEMPO_MOTOS_G1::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.REPERFILADO", "target": "PROD_MODELOS.DBO.TEMPO_MOTOS_G1", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_MATRIZRECHAZOPIVOT=>PROD_MODELOS.DBO.FED_TMP_RECHAZOS::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_MATRIZRECHAZOPIVOT", "target": "PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMPV_REGLASDURAS_=>PROD_MODELOS.DBO.FED_TMP_RECHAZOS::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMPV_REGLASDURAS_", "target": "PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASAPROB=>PROD_MODELOS.DBO.FED_TMP_RECHAZOS::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASAPROB", "target": "PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.TEMPO_EFECTIVO_G5=>PROD_MODELOS.DBO.FED_TMP_RECHAZOS::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TEMPO_EFECTIVO_G5", "target": "PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.TEMPO_EFECTIVO_G7=>PROD_MODELOS.DBO.FED_TMP_RECHAZOS::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TEMPO_EFECTIVO_G7", "target": "PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVATC=>PROD_MODELOS.DBO.FED_TMP_RECHAZOS::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVATC", "target": "PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.TEMPO_TC_G5=>PROD_MODELOS.DBO.FED_TMP_RECHAZOS::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TEMPO_TC_G5", "target": "PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.TEMPO_TC_G7=>PROD_MODELOS.DBO.FED_TMP_RECHAZOS::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TEMPO_TC_G7", "target": "PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.CUR_REPERFILADO=>PROD_MODELOS.DBO.FED_TMP_RECHAZOS::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.CUR_REPERFILADO", "target": "PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.TMP_GRUPOB=>PROD_MODELOS.DBO.FED_TMP_RECHAZOS::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.TMP_GRUPOB", "target": "PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}, {"data": {"id": "L::PROD_MODELOS.DBO.FED_TMP_RECHAZOS=>PROD_MODELOS.DBO.TMP_UMD_FED_INTERFAZTXT::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "target": "PROD_MODELOS.DBO.TMP_UMD_FED_INTERFAZTXT", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_INTERFAZTXT=>PROD_MODELOS.DBO.TMP_NODOSOB3::FROM::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_INTERFAZTXT", "target": "PROD_MODELOS.DBO.TMP_NODOSOB3", "kind": "lineage", "join": "FROM", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "FROM"}, "classes": "etype-lineage join-from"}, {"data": {"id": "L::PROD_MODELOS.DBO.UMD_FED_RDGENERAL_SEMANAL=>PROD_MODELOS.DBO.TMP_NODOSOB3::LEFT::CREATE TABLE::PI_CARGAINTERFAZFED.sql", "source": "PROD_MODELOS.DBO.UMD_FED_RDGENERAL_SEMANAL", "target": "PROD_MODELOS.DBO.TMP_NODOSOB3", "kind": "lineage", "join": "LEFT", "op": "CREATE TABLE", "file": "PI_CARGAINTERFAZFED.sql", "showLabel": "LEFT"}, "classes": "etype-lineage join-left"}];
const IN_L    = {"PROD_MODELOS.DBO.TMPV_REGLASDURAS_": [["PROD_MODELOS.DBO.V_REGLASDURAS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVAS": [["PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASPROCESOEFECTIVO": [["PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.UMD_FED_BASESMASIVASBI", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASAPROB": [["PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVAS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVATC": [["PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVAS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMPV_REGLASDURAS_", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMP_GRUPOB": [["PROD_ANALITICA.DBO.V_DATOSCONVENIOS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMPPERFILEFECTIVORECURRENTE": [["PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMPPERFILEFECTIVOBANCARIZADO": [["PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMPPERFILELECTRORECURRENTE": [["PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMPPERFILELECTROBANCARIZADO": [["PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMPPERFILMOTOSRECURRENTE": [["PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMPPERFILMOTOSBANCARIZADO": [["PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMPPERFILEFECTINEGOCIO": [["PROD_MODELOS.DBO.UMD_FED_UNIVERSOBMMICROPEQUENAEMPRESA", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMPPERFILTARJETACREDITO": [["PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.REPERFILADO": [["PROD_MODELOS.DBO.TMPV_REGLASDURAS_", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMPPERFILEFECTIVORECURRENTE", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMPPERFILEFECTIVOBANCARIZADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMPPERFILELECTRORECURRENTE", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMPPERFILELECTROBANCARIZADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMPPERFILMOTOSRECURRENTE", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMPPERFILMOTOSBANCARIZADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMPPERFILEFECTINEGOCIO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMPPERFILTARJETACREDITO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.CUR_REPERFILADO": [["PROD_MODELOS.DBO.UMD_FED_RDGENERAL_SEMANAL", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.REPERFILADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASPROCESOEFECTIVO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TEMPO_EFECTIVO_G5": [["PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.UMD_FED_RDGENERAL_MENSUAL", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.REPERFILADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASAPROB", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TEMPO_TC_G5": [["PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.UMD_FED_RDGENERAL_MENSUAL", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.REPERFILADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVATC", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TEMPO_EFECTIVO_G7": [["PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.UMD_FED_RDGENERAL_MENSUAL", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.REPERFILADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASAPROB", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TEMPO_TC_G7": [["PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.UMD_FED_RDGENERAL_MENSUAL", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.REPERFILADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVATC", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TEMPO_ELECTRO_G0": [["PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.REPERFILADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TEMPO_ELECTRO_G1": [["PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.REPERFILADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TEMPO_MOTOS_G0": [["PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMPV_REGLASDURAS_", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.REPERFILADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TEMPO_MOTOS_G1": [["PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMPV_REGLASDURAS_", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.REPERFILADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.FED_TMP_RECHAZOS": [["PROD_MODELOS.DBO.UMD_FED_MATRIZRECHAZOPIVOT", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMPV_REGLASDURAS_", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASAPROB", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_EFECTIVO_G5", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_EFECTIVO_G7", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVATC", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_TC_G5", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_TC_G7", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.CUR_REPERFILADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMP_GRUPOB", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMP_UMD_FED_INTERFAZTXT": [["PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMP_NODOSOB3": [["PROD_MODELOS.DBO.UMD_FED_INTERFAZTXT", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.UMD_FED_RDGENERAL_SEMANAL", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]]};
const OUT_L   = {"PROD_MODELOS.DBO.V_REGLASDURAS": [["PROD_MODELOS.DBO.TMPV_REGLASDURAS_", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.UMD_FED_DETALLEBASEMASIVAS": [["PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVAS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASPROCESOEFECTIVO", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMPPERFILEFECTIVORECURRENTE", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMPPERFILEFECTIVOBANCARIZADO", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMPPERFILELECTRORECURRENTE", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMPPERFILELECTROBANCARIZADO", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMPPERFILMOTOSRECURRENTE", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMPPERFILMOTOSBANCARIZADO", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMPPERFILEFECTINEGOCIO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMPPERFILTARJETACREDITO", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_EFECTIVO_G5", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_TC_G5", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_EFECTIVO_G7", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_TC_G7", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_ELECTRO_G0", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_ELECTRO_G1", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_MOTOS_G0", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_MOTOS_G1", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.UMD_FED_BASESMASIVASBI": [["PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASPROCESOEFECTIVO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVAS": [["PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASAPROB", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVATC", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMPV_REGLASDURAS_": [["PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVATC", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.REPERFILADO", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_MOTOS_G0", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_MOTOS_G1", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_ANALITICA.DBO.V_DATOSCONVENIOS": [["PROD_MODELOS.DBO.TMP_GRUPOB", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.UMD_FED_UNIVERSOBMMICROPEQUENAEMPRESA": [["PROD_MODELOS.DBO.TMPPERFILEFECTINEGOCIO", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMPPERFILEFECTIVORECURRENTE": [["PROD_MODELOS.DBO.REPERFILADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMPPERFILEFECTIVOBANCARIZADO": [["PROD_MODELOS.DBO.REPERFILADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMPPERFILELECTRORECURRENTE": [["PROD_MODELOS.DBO.REPERFILADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMPPERFILELECTROBANCARIZADO": [["PROD_MODELOS.DBO.REPERFILADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMPPERFILMOTOSRECURRENTE": [["PROD_MODELOS.DBO.REPERFILADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMPPERFILMOTOSBANCARIZADO": [["PROD_MODELOS.DBO.REPERFILADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMPPERFILEFECTINEGOCIO": [["PROD_MODELOS.DBO.REPERFILADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMPPERFILTARJETACREDITO": [["PROD_MODELOS.DBO.REPERFILADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.UMD_FED_RDGENERAL_SEMANAL": [["PROD_MODELOS.DBO.CUR_REPERFILADO", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TMP_NODOSOB3", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.REPERFILADO": [["PROD_MODELOS.DBO.CUR_REPERFILADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_EFECTIVO_G5", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_TC_G5", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_EFECTIVO_G7", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_TC_G7", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_ELECTRO_G0", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_ELECTRO_G1", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_MOTOS_G0", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_MOTOS_G1", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASPROCESOEFECTIVO": [["PROD_MODELOS.DBO.CUR_REPERFILADO", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.UMD_FED_RDGENERAL_MENSUAL": [["PROD_MODELOS.DBO.TEMPO_EFECTIVO_G5", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_TC_G5", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_EFECTIVO_G7", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_TC_G7", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVASAPROB": [["PROD_MODELOS.DBO.TEMPO_EFECTIVO_G5", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_EFECTIVO_G7", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMP_DETALLEBASEMASIVATC": [["PROD_MODELOS.DBO.TEMPO_TC_G5", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.TEMPO_TC_G7", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"], ["PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.UMD_FED_MATRIZRECHAZOPIVOT": [["PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TEMPO_EFECTIVO_G5": [["PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TEMPO_EFECTIVO_G7": [["PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TEMPO_TC_G5": [["PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TEMPO_TC_G7": [["PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.CUR_REPERFILADO": [["PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.TMP_GRUPOB": [["PROD_MODELOS.DBO.FED_TMP_RECHAZOS", "LEFT", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.FED_TMP_RECHAZOS": [["PROD_MODELOS.DBO.TMP_UMD_FED_INTERFAZTXT", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]], "PROD_MODELOS.DBO.UMD_FED_INTERFAZTXT": [["PROD_MODELOS.DBO.TMP_NODOSOB3", "FROM", "CREATE TABLE", "PI_CARGAINTERFAZFED.sql"]]};
const IN_P    = {};
const OUT_P   = {};

cytoscape.use(cytoscapeDagre);

const cy = cytoscape({
  container: document.getElementById('cy'),
  elements: { nodes: NODES, edges: EDGES },
  wheelSensitivity: 0.2,
  style: [
    // nodos
    { selector: 'node', style: {
        'shape': 'round-rectangle',
        'width': 'label',
        'height': 'label',
        'padding': '6px',
        'background-color': 'data(color)',
        'border-color': '#0f172a', 'border-width': 1,
        'label': 'data(label)',
        'font-size': 12, 'color':'#ffffff',
        'text-outline-color':'#0b1220','text-outline-width':2,
        'text-wrap':'wrap','text-max-width':260,
        'text-valign':'center','text-halign':'center',
        'min-zoomed-font-size':8
    }},
    { selector: 'node.tmp',  style: { 'border-color':'#10b981', 'border-width':3 } },
    { selector: 'node.base', style: { } },

    // aristas (estilo base)
    { selector: 'edge', style: {
        'curve-style':'bezier',
        'target-arrow-shape':'triangle',
        'line-color':'#94a3b8',
        'target-arrow-color':'#94a3b8',
        'width': 2,
        'label': 'data(showLabel)',
        'font-size': 11, 'color':'#ffffff',
        'text-outline-color':'#0b1220','text-outline-width':2,
        'text-rotation':'autorotate',
        'text-background-opacity':0.35,
        'text-background-color':'#0b1220',
        'text-background-shape':'round-rectangle',
        'text-background-padding':'2px',
        'min-zoomed-font-size':8,
        'text-wrap':'wrap','text-max-width':200,
        'text-margin-y': -6
    }},
    // clases por tipo de join
    { selector:'edge.join-left',  style:{ 'line-style':'dashed','line-dash-pattern':[6,4], 'line-color':'#059669','target-arrow-color':'#059669' } },
    { selector:'edge.join-right', style:{ 'line-style':'dashed','line-dash-pattern':[2,6], 'line-color':'#d97706','target-arrow-color':'#d97706' } },
    { selector:'edge.join-full',  style:{ 'line-style':'dashed','line-dash-pattern':[1,3], 'width':3, 'line-color':'#dc2626','target-arrow-color':'#dc2626' } },
    { selector:'edge.join-inner', style:{ 'width':3, 'line-color':'#2563eb','target-arrow-color':'#2563eb' } },
    { selector:'edge.join-cross', style:{ 'line-style':'dashed','line-dash-pattern':[8,2], 'line-color':'#7c3aed','target-arrow-color':'#7c3aed' } },
    { selector:'edge.join-from',  style:{ 'line-color':'#9ca3af','target-arrow-color':'#9ca3af','width':1 } },

    // visibilidad por modo
    { selector:'edge.etype-lineage', style:{ 'display':'element' } },
    { selector:'edge.etype-pair',    style:{ 'display':'none'    } },

    // atenuado
    { selector:'.faded', style:{ 'opacity':0.12 } }
  ],
  layout: { name:'dagre', rankDir:'LR', nodeSep:80, rankSep:120, edgeSep:20, padding:20 }
});

// --------- Controles ----------
const modeSel   = document.getElementById('mode');
const onlyTmp   = document.getElementById('onlyTmp');
const edgeLbls  = document.getElementById('edgeLabels');

document.getElementById('fit').onclick = () => cy.fit(null,30);
document.getElementById('relayout').onclick = () => cy.layout({ name:'dagre', rankDir:'LR', nodeSep:80, rankSep:120 }).run();

document.getElementById('reset').onclick = () => {
  cy.elements().removeClass('faded');
  cy.nodes().forEach(n => n.style('display','element'));
  applyMode();
  applyOnlyTmp();
  applyEdgeLabels();
  cy.fit(null,30);
};

document.getElementById('savePos').onclick = () => {
  const pos={}; cy.nodes().forEach(n => pos[n.id()] = n.position());
  localStorage.setItem('sqlgraph_cyto_positions', JSON.stringify(pos));
  alert('Posiciones guardadas.');
};
document.getElementById('loadPos').onclick = () => {
  const raw = localStorage.getItem('sqlgraph_cyto_positions');
  if(!raw){ alert('No hay posiciones guardadas.'); return; }
  const pos = JSON.parse(raw);
  cy.nodes().forEach(n => { if(pos[n.id()]) n.position(pos[n.id()]); });
  cy.fit(null,30);
};
document.getElementById('clearPos').onclick = () => {
  localStorage.removeItem('sqlgraph_cyto_positions');
  alert('Posiciones borradas.');
};

const search=document.getElementById('search');
search.addEventListener('keydown', e=>{
  if(e.key!=='Enter') return;
  const q=(search.value||'').trim().toLowerCase();
  if(!q) return;
  const hit=cy.nodes().filter(n => (n.data('label')||'').toLowerCase().includes(q)).first();
  if(hit){ cy.elements().removeClass('faded'); cy.center(hit); hit.select(); }
});

// switches
modeSel.onchange = applyMode;
onlyTmp.onchange = applyOnlyTmp;
edgeLbls.onchange = applyEdgeLabels;

function applyMode(){
  const m = modeSel.value; // 'lineage' | 'pairs'
  cy.edges('.etype-lineage').style('display', m==='lineage' ? 'element' : 'none');
  cy.edges('.etype-pair').style('display',    m==='pairs'   ? 'element' : 'none');
}
function applyOnlyTmp(){
  const showTmp = onlyTmp.checked;
  cy.nodes().forEach(n => {
    const isTmp = n.data('isTmp');
    n.style('display', (showTmp && !isTmp) ? 'none' : 'element');
  });
}
function applyEdgeLabels(){
  const show = edgeLbls.checked;
  cy.edges().forEach(e => e.style('label', show ? e.data('showLabel') : ''));
}
applyMode(); applyOnlyTmp(); applyEdgeLabels();

// Panel lateral + enfoque
const sideTitle=document.getElementById('sideTitle');
const meta=document.getElementById('meta');

function renderDetails(id){
  const mode = modeSel.value;
  let inc = [], out = [];
  if(mode==='lineage'){ inc = IN_L[id] || []; out = OUT_L[id] || []; }
  else                { inc = IN_P[id] || []; out = OUT_P[id] || []; }

  let html='';
  html+=`<h4>Entrantes (${inc.length})</h4>`;
  if(inc.length===0) html+=`<div class="muted">—</div>`;
  inc.forEach(row => {
    if(mode==='lineage'){
      const [src,j,op,f]=row;
      html+=`<div class="pill">${j}</div> ${src} <span class="muted">· ${op} @ ${f}</span><br/>`;
    }else{
      const [src,j,f]=row;
      html+=`<div class="pill">${j}</div> ${src} <span class="muted">· ${f}</span><br/>`;
    }
  });
  html+=`<h4 style="margin-top:.8rem">Salientes (${out.length})</h4>`;
  if(out.length===0) html+=`<div class="muted">—</div>`;
  out.forEach(row => {
    if(mode==='lineage'){
      const [dst,j,op,f]=row;
      html+=`<div class="pill">${j}</div> ${dst} <span class="muted">· ${op} @ ${f}</span><br/>`;
    }else{
      const [dst,j,f]=row;
      html+=`<div class="pill">${j}</div> ${dst} <span class="muted">· ${f}</span><br/>`;
    }
  });
  meta.innerHTML = html;
}

cy.on('tap','node', evt=>{
  const n=evt.target;
  sideTitle.textContent=n.data('label');
  renderDetails(n.id());
  cy.elements().addClass('faded'); n.closedNeighborhood().removeClass('faded');
});
cy.on('tap', evt=>{
  if(evt.target===cy){
    cy.elements().removeClass('faded');
    sideTitle.textContent='Selecciona un nodo'; meta.innerHTML='';
  }
});

// Ajuste inicial
cy.fit(null, 30);
</script>
</body>
</html>